<div class="container mt-4">
  <h2>Accounts Management</h2>

  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <button class="btn btn-primary mb-3" (click)="newAccount()">New Account</button>

  <form [formGroup]="accountForm" (ngSubmit)="saveAccount()">
    <div class="row">
      <div class="col-md-4">
        <label>Code</label>
        <input formControlName="code" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>Name</label>
        <input formControlName="name" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>Category</label>
        <select formControlName="category" class="form-select">
          <option value="">Select</option>
          <option value="Asset">Asset</option>
          <option value="Liability">Liability</option>
          <option value="Equity">Equity</option>
          <option value="Revenue">Revenue</option>
          <option value="Expense">Expense</option>
        </select>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-md-4">
        <label>Currency</label>
        <input formControlName="currency" class="form-control" placeholder="e.g., USD, IDR" />
      </div>
      <div class="col-md-4">
        <label>Parent Account ID</label>
        <input type="number" formControlName="parentId" class="form-control" />
      </div>
      <div class="col-md-4">
        <label>Description</label>
        <input formControlName="description" class="form-control" />
      </div>
    </div>

    <div class="form-check mt-3">
      <input type="checkbox" formControlName="isCashBank" class="form-check-input" id="isCashBank" />
      <label for="isCashBank" class="form-check-label">Is Cash/Bank</label>
    </div>

    <div class="form-check mt-2">
      <input type="checkbox" formControlName="isActive" class="form-check-input" id="isActive" />
      <label for="isActive" class="form-check-label">Is Active</label>
    </div>

    <button type="submit" class="btn btn-success mt-3" [disabled]="accountForm.invalid">
      {{ isEditMode ? 'Update' : 'Create' }}
    </button>
  </form>

  <hr />

  <h3>Accounts List</h3>
  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="pills-cash-account-tab" data-bs-toggle="pill" data-bs-target="#pills-cash-account"
        type="button" role="tab" aria-controls="pills-cash-account" aria-selected="true">Cash Account</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-inventory-account-tab" data-bs-toggle="pill" data-bs-target="#pills-inventory-account"
        type="button" role="tab" aria-controls="pills-inventory-account" aria-selected="false">Inventory Account</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-income-account-tab" data-bs-toggle="pill" data-bs-target="#pills-income-account"
        type="button" role="tab" aria-controls="pills-income-account" aria-selected="false">Revenue / Income Account</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-expense-account-tab" data-bs-toggle="pill" data-bs-target="#pills-expense-account"
        type="button" role="tab" aria-controls="pills-expense-account" aria-selected="false">Expense Account</button>
    </li>
  </ul>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-cash-account" role="tabpanel" aria-labelledby="pills-cash-account-tab">
        <app-simple-table [getColumnDefs]="getColumnDefs" (getRows)="loadDataCashAccounts($event)" [sortName]="'id'" [sortOrder]="'asc'"
          [showNo]="true" [entities]="cashAccounts"></app-simple-table>
    </div>
    <div class="tab-pane fade" id="pills-inventory-account" role="tabpanel" aria-labelledby="pills-inventory-account-tab">...</div>
    <div class="tab-pane fade" id="pills-income-account" role="tabpanel" aria-labelledby="pills-income-account-tab">...</div>
    <div class="tab-pane fade" id="pills-expense-account" role="tabpanel" aria-labelledby="pills-expense-account-tab">...</div>
  </div>
  

  <div *ngIf="loading" class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>